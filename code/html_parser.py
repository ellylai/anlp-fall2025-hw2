from bs4 import BeautifulSoup
import requests

'''
['#main', 'https://www.visitpittsburgh.com/', 'https://www.visitpittsburgh.com/plan-your-trip/newsletter-signup/', '/plan-your-trip/weather/', '/itinerary/', 'https://www.visitpittsburgh.com/', 'https://www.sportspittsburgh.com/', 'https://www.facebook.com/VisitPittsburgh/', 'https://www.instagram.com/visitpittsburgh/', 'https://www.youtube.com/channel/UChtK_mzDRJokXAQoS6gFNnQ', 'https://www.pinterest.com/visitpittsburgh/', 'https://www.visitpittsburgh.com/things-to-do/', 'https://www.visitpittsburgh.com/things-to-do/free-things-to-do/', 'https://www.visitpittsburgh.com/things-to-do/family-fun/', 'https://www.visitpittsburgh.com/things-to-do/tours-sightseeing/', 'https://www.visitpittsburgh.com/things-to-do/outdoor-adventure/', 'https://www.visitpittsburgh.com/things-to-do/arts-culture/', 'https://www.visitpittsburgh.com/things-to-do/shopping/', 'https://www.visitpittsburgh.com/things-to-do/health-wellness/', 'https://www.visitpittsburgh.com/things-to-do/pittsburgh-sports-teams/', 'https://www.visitpittsburgh.com/things-to-do/casinos-gaming/', '/events-festivals/film-festivals/', 'https://www.visitpittsburgh.com/events-festivals/', 'https://www.visitpittsburgh.com/events-festivals/submit-your-event/', 'https://www.visitpittsburgh.com/events-festivals/this-week-in-pittsburgh/', '/america-250/', 'https://www.visitpittsburgh.com/events-festivals/annual-events/', 'https://www.visitpittsburgh.com/events-festivals/holidays/', 'https://www.visitpittsburgh.com/events-festivals/halloween-events/', 'https://www.visitpittsburgh.com/events-festivals/film-festivals/', 'https://www.visitpittsburgh.com/events-festivals/food-festivals/', 'https://www.visitpittsburgh.com/events-festivals/marathons-runs-walks/', 'https://www.visitpittsburgh.com/events-festivals/oktoberfest-pittsburgh/', 'https://www.visitpittsburgh.com/hotels-resorts/', 'https://www.visitpittsburgh.com/restaurants-culinary/', 'https://www.visitpittsburgh.com/restaurants-culinary/bars-nightlife/', 'https://www.visitpittsburgh.com/restaurants-culinary/craft-breweries/', 'https://www.visitpittsburgh.com/restaurants-culinary/wineries-distilleries/', 'https://www.visitpittsburgh.com/restaurants-culinary/farms-farmers-markets/', 'https://www.visitpittsburgh.com/plan-your-trip/', 'https://www.visitpittsburgh.com/plan-your-trip/visitors-guide/', 'https://www.visitpittsburgh.com/plan-your-trip/beyond-pittsburgh/', 'https://www.visitpittsburgh.com/plan-your-trip/transportation/', 'https://www.visitpittsburgh.com/plan-your-trip/group-tour/', 'https://www.visitpittsburgh.com/plan-your-trip/explore-black-culture-heritage/', 'https://www.visitpittsburgh.com/plan-your-trip/lgbtq-travel/', 'https://www.visitpittsburgh.com/plan-your-trip/pet-friendly-travel/', 'https://www.visitpittsburgh.com/plan-your-trip/college-visits/', 'https://www.visitpittsburgh.com/plan-your-trip/senior-travel/', 'https://www.visitpittsburgh.com/plan-your-trip/medical-travel/', 'https://www.visitpittsburgh.com/plan-your-trip/accessibility-guide/', 'https://www.visitpittsburgh.com/plan-your-trip/weather/', 'https://www.visitpittsburgh.com/plan-your-trip/welcome-centers/', 'https://www.visitpittsburgh.com/plan-your-trip/newsletter-signup/', 'https://www.visitpittsburgh.com/neighborhoods/', 'https://www.visitpittsburgh.com/nfl-draft-pittsburgh/', 'https://www.visitpittsburgh.com/meetings-and-events/', 'https://www.visitpittsburgh.com/meetings-and-events/reasons-to-meet-in-pittsburgh/', 'https://www.visitpittsburgh.com/meetings-and-events/hotels/', 'https://www.visitpittsburgh.com/meetings-and-events/event-services/', 'https://www.visitpittsburgh.com/meetings-and-events/meeting-planner-toolkit/', 'https://www.visitpittsburgh.com/meetings-and-events/request-for-proposal/', 'https://www.visitpittsburgh.com/meetings-and-events/contact-us/', 'https://www.visitpittsburgh.com/meetings-and-events/show-your-badge/', 'https://www.sportspittsburgh.com/', 'https://www.sportspittsburgh.com/about-sportspittsburgh/', 'https://www.sportspittsburgh.com/sports-planner/', 'https://www.sportspittsburgh.com/sports-planner/sports-facilities/', 'https://www.sportspittsburgh.com/attendee-experiences/events-calendar/', 'https://www.sportspittsburgh.com/attendee-experiences/', 'https://www.sportspittsburgh.com/power-of-sports-economy/', 'https://www.visitpittsburgh.com/weddings-reunions/', 'https://www.visitpittsburgh.com/media/', 'https://www.visitpittsburgh.com/partners/', 'https://www.visitpittsburgh.com/events-festivals/food-festivals/soul-food-festival/', 'https://www.visitpittsburgh.com/events-festivals/food-festivals/the-original-pittsburgh-taco-festival/', 'https://www.visitpittsburgh.com/', 'https://www.visitpittsburgh.com/events-festivals/', 'https://www.visitpittsburgh.com/plan-your-trip/weather/winter-in-pittsburgh/', 'https://www.visitpittsburgh.com/plan-your-trip/weather/summer-in-pittsburgh/', 'http://pittsburghrestaurantweek.com/', 'https://www.instagram.com/p/C2LXL38PYx7/?utm_source=ig_embed&utm_campaign=loading', 'https://www.instagram.com/p/C2LXL38PYx7/?utm_source=ig_embed&utm_campaign=loading', 'https://www.facebook.com/PittsburghLentenFishFryMap', 'http://www.southsidesoup.com/', 'https://www.instagram.com/p/BfTvLyBF4yX/?utm_source=ig_embed&utm_campaign=loading', 'https://www.instagram.com/p/BfTvLyBF4yX/?utm_source=ig_embed&utm_campaign=loading', 'https://www.literacypittsburgh.org/one-big-table/', 'https://www.instagram.com/p/C4HRw_BtH4i/?utm_source=ig_embed&utm_campaign=loading', 'https://www.instagram.com/p/C4HRw_BtH4i/?utm_source=ig_embed&utm_campaign=loading', 'https://pittsburghvegfest.org/vegfair-faqs/', 'https://www.instagram.com/p/C3dCmb6MmbZ/?utm_source=ig_embed&utm_campaign=loading', 'https://www.instagram.com/p/C3dCmb6MmbZ/?utm_source=ig_embed&utm_campaign=loading', 'https://www.visitpittsburgh.com/blog/pittsburgh-guide-to-greek-food-festivals/', 'https://macandcheesefestival.com/city-events/pittsburgh-mac-and-cheese-festival/', 'https://www.instagram.com/p/CwfQLtEuv2_/?utm_source=ig_embed&utm_campaign=loading', 'https://www.instagram.com/p/CwfQLtEuv2_/?utm_source=ig_embed&utm_campaign=loading', 'https://www.visitpittsburgh.com/blog/pittsburgh-is-picklesburgh/', 'http://littleitalydays.com/', 'https://www.instagram.com/p/BJOJmuxAuHY/?utm_source=ig_embed&utm_campaign=loading', 'https://www.instagram.com/p/BJOJmuxAuHY/?utm_source=ig_embed&utm_campaign=loading', 'https://www.visitpittsburgh.com/blog/pittsburgh-vegan-restaurants/', 'http://pittsburghvegfest.org/', 'https://www.instagram.com/p/Cz2YE3ctGGF/?utm_source=ig_embed&utm_campaign=loading', 'https://www.instagram.com/p/Cz2YE3ctGGF/?utm_source=ig_embed&utm_campaign=loading', 'https://pghirishfest.org/', 'http://www.pghtacofest.com/', 'https://www.visitpittsburgh.com/events-festivals/food-festivals/the-original-pittsburgh-taco-festival/', 'https://lvpgh.com/cookietour2023/', 'https://www.instagram.com/p/C0Wm4ImvB43/?utm_source=ig_embed&utm_campaign=loading', 'https://www.instagram.com/p/C0Wm4ImvB43/?utm_source=ig_embed&utm_campaign=loading', 'http://hickoryapplefest.com/', 'https://www.delmontapplenarts.com/', 'https://www.instagram.com/p/8bnqGWhJPW/?utm_source=ig_embed&utm_campaign=loading', 'https://www.instagram.com/p/8bnqGWhJPW/?utm_source=ig_embed&utm_campaign=loading', 'https://www.facebook.com/BeaverCountyMapleSyrupMusicFestival/', 'https://www.pamaplefestival.com/maple-weekend-taste--tour.html', 'https://www.pamaplefestival.com/', 'https://www.visitpittsburgh.com/blog/top-beer-festivals-to-attend-in-pittsburgh-this-fall/', 'https://www.visitpittsburgh.com/blog/pittsburgh-summer-festivals/', 'https://www.visitpittsburgh.com/blog/fall-fairs-festivals-and-events/', 'https://www.visitpittsburgh.com/blog/music-festivals/', 'https://www.visitpittsburgh.com/restaurants-culinary/', 'https://www.visitpittsburgh.com/blog/japanese-restaurants/', 'https://www.visitpittsburgh.com/blog/pittsburgh-restaurant-week/', 'https://www.visitpittsburgh.com/blog/italian-restaurants/', 'https://www.visitpittsburgh.com/blog/pittsburgh-vegan-restaurants/', 'https://www.visitpittsburgh.com/plan-your-trip/visitors-guide/', 'https://www.visitpittsburgh.com/plan-your-trip/visitors-guide/', 'https://www.visitpittsburgh.com/plan-your-trip/visitors-guide/', '/contact-us/', 'https://www.visitpittsburgh.com/privacy/', 'https://www.visitpittsburgh.com/blog/', 'https://www.visitpittsburgh.com/about-us/', 'https://www.visitpittsburgh.com/', 'https://www.facebook.com/VisitPittsburgh/', 'https://www.instagram.com/visitpittsburgh/', 'https://www.youtube.com/channel/UChtK_mzDRJokXAQoS6gFNnQ', 'https://www.pinterest.com/visitpittsburgh/', 'https://www.visitpittsburgh.com/privacy/', 'https://www.visitpa.com/', 'https://www.visittheusa.com/', 'https://destinationsinternational.org/', 'http://www.trustyou.com/', '/search/']
'''



def validate_links(child_links):
    # TODO: need to check if links are valid or not
    return None

def parse_child_links(page_id, child_links):
    child_id = 1
    for link in child_links:
        html = requests.get(link).text
        soup = BeautifulSoup("<html>" + html + "</html>", 'html.parser')
        txt = soup.get_text(separator=" ", strip=True)
        with open(f"doc{page_id}-{child_id}.txt", "w", encoding="utf-8") as f:
            f.write(txt)
    print("Child html links parsed.")

def parse_html_links(parent_links):
    pdfs = []
    page_id = 1
    for link in parent_links:
        html = requests.get(link).text
        soup = BeautifulSoup("<html>" + html + "</html>", 'html.parser')
        txt = soup.get_text(strip=True)
        with open(f"doc{page_id}-0.txt", "w", encoding="utf-8") as f:
            f.write(txt)
        child_links = [child_link.get('href') for child_link in soup.find_all('a')]
        pdf_links, html_links = validate_links(child_links)
        pdfs += pdf_links
        parse_child_links(page_id, html_links)
    print("All links parsed. Dumping pdf links.")
    return pdfs

parent_links = ["https://www.visitpittsburgh.com/events-festivals/food-festivals/"]
parse_html_links(parent_links)